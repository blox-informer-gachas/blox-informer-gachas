<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fish It! Catch RNG Calculator</title>
    <style>
        :root {
            --primary: #FF6600;
            --primary-dark: #cc5200;
            --primary-light: rgba(255, 102, 0, 0.1);
            --background: #1d1d1d;
            --card-bg: #2a2a2a;
            --text: #f0f0f0;
            --text-secondary: #ff812d;
            --border: #444;
            --success: #4CAF50;
            --warning: #ff9800;
            --error: #f44336;
            --glow: 0 0 15px rgba(255, 102, 0, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            line-height: 1.4;
            padding: 15px;
            max-width: 750px;
            margin: 0 auto;
            height: 100vh;
            overflow: hidden;
        }

        .fish-it-calculator {
            height: 100%;
            background-color: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            border: 1px solid var(--border);
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .calculator-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
        }

        .calculator-header h1 {
            font-size: 26px;
            margin-bottom: 8px;
            font-weight: 800;
            letter-spacing: 0.5px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .calculator-description {
            font-size: 14px;
            opacity: 0.95;
            margin: 0 auto;
            position: relative;
            font-weight: 500;
        }

        .calculator-content {
            flex: 1;
            overflow-y: auto;
            padding: 0 20px 20px;
        }

        .calculator-inputs {
            padding: 20px 0;
            border-bottom: 1px solid var(--border);
        }

        .input-group {
            margin-bottom: 18px;
            position: relative;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text);
            font-size: 15px;
        }

        .option {
            font-weight: 600;
            color: var(--primary);
            background-color: var(--primary-light);
        }

        .luck-input,
        .casts-input,
        .manual-odds-input {
            width: 100%;
            padding: 12px 15px;
            background-color: #333;
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text);
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .fish-select:focus,
        .luck-input:focus,
        .casts-input:focus,
        .manual-odds-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 8px rgba(255, 102, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .fish-select {
            width: 100%;
            padding: 12px 15px;
            background: linear-gradient(145deg, #333, #2a2a2a);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text);
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            appearance: none;
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 14px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23FF6600' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
        }

        .fish-select option {
            background-color: #2a2a2a;
            color: var(--text);
            padding: 8px;
            font-size: 13px;
            font-weight: 400;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .fish-select optgroup {
            color: var(--primary);
            background: #2a2a2a;
            font-weight: 700;
            font-size: 13px;
            padding: 6px 4px;
            letter-spacing: 0.5px;
            margin-top: 4px;
        }

        .fish-select optgroup[label="Fisherman Island"] {
            color: #FF6600;
        }

        .fish-select optgroup[label="Ocean"] {
            color: #4d9de0;
        }

        .fish-select optgroup[label="Kohana"] {
            color: #66bb6a;
        }

        .fish-select optgroup[label="Coral Reefs"] {
            color: #ff6bc9;
        }

        .fish-select optgroup[label="Esoteric Depths"] {
            color: #9d4edd;
        }

        .fish-select optgroup[label="Tropical Grove"] {
            color: #ffd166;
        }

        .fish-select optgroup[label="Crater Island"] {
            color: #ef476f;
        }

        .fish-select optgroup[label="Treasure Room - Lost Isle"] {
            color: #ff9e00;
        }

        .fish-select optgroup[label="Sisyphus Statue - Lost Isle"] {
            color: #06d6a0;
        }

        .fish-select optgroup[label="Admin Event Ocean"] {
            color: #118ab2;
        }

        .fish-select optgroup[label="Ancient Jungle"] {
            color: #38b000;
        }

        .fish-select optgroup[label="Ancient Jungle - Sacred Temple"] {
            color: #fcca46;
        }

        .fish-select optgroup[label="Ancient Jungle - Underground Cellar"] {
            color: #6a4c93;
        }

        .fish-select optgroup[label="Ancient Jungle - Ancient Ruin"] {
            color: #3740c0;
        }

        .fish-select optgroup[label="Admin Event Mount Hallow"] {
            color: #a81919;
        }

        /* Toggle Switch */
        .mode-toggle {
            display: flex;
            margin-bottom: 15px;
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .mode-option {
            flex: 1;
            text-align: center;
            padding: 10px;
            background-color: #333;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 14px;
        }

        .mode-option.active {
            background-color: var(--primary);
            color: white;
        }

        .mode-option:not(.active):hover {
            background-color: #444;
        }

        /* Manual odds input styling */
        .manual-odds-input {
            display: none;
        }

        .manual-odds-input.active {
            display: block;
        }

        .fish-select.active {
            display: block;
        }

        .fish-select.hidden {
            display: none;
        }

        /* Custom scrollbar for dropdown */
        .fish-select::-webkit-scrollbar,
        .calculator-content::-webkit-scrollbar {
            width: 10px;
        }

        .fish-select::-webkit-scrollbar-track,
        .calculator-content::-webkit-scrollbar-track {
            background: var(--border);
        }

        .fish-select::-webkit-scrollbar-thumb,
        .calculator-content::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 5px;
        }

        /* Firefox scrollbar styling */
        .fish-select,
        .calculator-content {
            scrollbar-color: var(--primary);
        }

        .input-help {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
            font-style: italic;
        }

        .calculate-button {
            display: block;
            width: 100%;
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 14px;
            font-size: 16px;
            font-weight: 700;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 15px;
            box-shadow: 0 4px 8px rgba(255, 102, 0, 0.3);
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .calculate-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(255, 102, 0, 0.4);
        }

        .calculate-button:active {
            transform: translateY(1px);
            box-shadow: 0 2px 4px rgba(255, 102, 0, 0.3);
        }

        .fish-info {
            padding: 15px 0;
            display: none;
        }

        .fish-info.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .fish-info-header {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .fish-info-content {
            flex: 1;
        }

        .fish-name-gradient {
            font-size: 28px;
            margin-bottom: 8px;
            background: linear-gradient(45deg, var(--primary), #ff9d47);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 8px rgba(255, 102, 0, 0.3);
            font-weight: 800;
            letter-spacing: 0.5px;
            text-align: center;
        }

        .fish-stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-top: 12px;
            padding: 15px;
            background: rgba(255, 102, 0, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 102, 0, 0.2);
        }

        .fish-stat {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 14px;
            color: var(--primary);
            font-weight: 700;
            text-shadow: 0 0 4px rgba(255, 102, 0, 0.3);
        }

        .calculator-results {
            padding: 15px 0;
            display: none;
        }

        .calculator-results.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .results-header {
            margin-bottom: 20px;
            text-align: center;
        }

        .results-header h3 {
            font-size: 20px;
            margin-bottom: 8px;
            color: var(--primary);
            text-shadow: 0 0 8px rgba(255, 102, 0, 0.3);
        }

        .results-note {
            font-size: 13px;
            color: var(--text-secondary);
            margin: 0 auto;
            line-height: 1.5;
        }

        .results-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border);
            justify-content: center;
        }

        .tab-button {
            background: none;
            border: none;
            padding: 10px 18px;
            color: var(--text-secondary);
            cursor: pointer;
            font-weight: 600;
            position: relative;
            transition: all 0.3s;
            font-size: 14px;
            margin: 0 3px;
            border-radius: 6px 6px 0 0;
        }

        .tab-button.active {
            color: var(--primary);
            background-color: rgba(255, 102, 0, 0.1);
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 3px;
            background-color: var(--primary);
            box-shadow: var(--glow);
        }

        .tab-button:hover:not(.active) {
            color: var(--text);
            background-color: rgba(255, 255, 255, 0.05);
        }

        .model-results {
            display: none;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .model-results.active {
            display: grid;
            animation: fadeIn 0.5s ease-out;
        }

        .result-card {
            background: linear-gradient(145deg, #2e2e2e, #262626);
            border-radius: 8px;
            padding: 18px;
            text-align: center;
            border-left: 4px solid var(--primary);
            transition: all 0.3s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            opacity: 0.02;
        }

        .result-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3), var(--glow);
        }

        .result-card h4 {
            font-size: 14px;
            margin-bottom: 10px;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .result-value {
            font-size: 18px;
            font-weight: 800;
            margin-bottom: 8px;
            color: var(--primary);
            text-shadow: 0 0 8px rgba(255, 102, 0, 0.3);
        }

        .result-detail {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .results-footer {
            text-align: center;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }

        .disclaimer {
            font-size: 12px;
            color: var(--text-secondary);
            font-style: italic;
            margin: 0 auto;
        }

        .loading-spinner {
            text-align: center;
            padding: 30px;
            display: none;
        }

        .loading-spinner.active {
            display: block;
        }

        .loading-spinner span {
            display: inline-block;
            padding: 10px 20px;
            background-color: #333;
            border-radius: 6px;
            font-weight: 600;
            color: var(--primary);
        }

        .success-message {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.15), rgba(76, 175, 80, 0.05));
            border-left: 4px solid var(--success);
            padding: 15px;
            border-radius: 6px;
            display: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .success-message.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .calculator-header {
                padding: 15px;
            }

            .calculator-header h1 {
                font-size: 22px;
            }

            .calculator-description {
                font-size: 12px;
            }

            .calculator-content {
                padding: 0 15px 15px;
            }

            .model-results {
                grid-template-columns: 1fr;
            }

            .results-tabs {
                flex-direction: column;
            }

            .tab-button {
                text-align: center;
                border-bottom: 1px solid var(--border);
                border-radius: 0;
                margin: 0;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes glow {
            0% {
                box-shadow: 0 0 5px rgba(255, 102, 0, 0.5);
            }

            50% {
                box-shadow: 0 0 15px rgba(255, 102, 0, 0.8);
            }

            100% {
                box-shadow: 0 0 5px rgba(255, 102, 0, 0.5);
            }
        }

        .glowing {
            animation: glow 2s infinite;
        }
    </style>
</head>

<body>
    <div class="fish-it-calculator">
        <div class="calculator-header">
            <h1>Fish It! Catch RNG Calculator</h1>
            <p class="calculator-description">
                Calculate your odds of catching Secret fish based on your luck and casting rate.
            </p>
        </div>

        <div class="calculator-content">
            <div class="calculator-inputs">
                <!-- Mode Toggle -->
                <div class="mode-toggle">
                    <div class="mode-option active" data-mode="select">Select Secret Fish</div>
                    <div class="mode-option" data-mode="manual">Manual Odds Input</div>
                </div>

                <div class="input-group">
                    <label for="fish-select">Target Fish Species:</label>
                    <select id="fish-select" class="fish-select active">
                        <option value="">-- Select your target fish --</option>
                        <optgroup label="Fisherman Island">
                            <option value="Crystal Crab" data-rarity="1/750000" data-location="Fisherman Island">
                                Crystal Crab (1/750K)
                            </option>
                            <option value="Orca" data-rarity="1/1500000" data-location="Fisherman Island">
                                Orca (1/1.50M)
                            </option>
                        </optgroup>
                        <optgroup label="Ocean">
                            <option value="Blob Shark" data-rarity="1/250000" data-location="Ocean">
                                Blob Shark (1/250K)
                            </option>
                            <option value="Ghost Shark" data-rarity="1/500000" data-location="Ocean">
                                Ghost Shark (1/500K)
                            </option>
                            <option value="Ghost Narwhal" data-rarity="1/600000" data-location="Ocean">
                                Ghost Narwhal (1/600K)
                            </option>
                            <option value="Worm Fish" data-rarity="1/3000000" data-location="Ocean">
                                Worm Fish (1/3M)
                            </option>
                        </optgroup>
                        <optgroup label="Kohana">
                            <option value="Lochness Monster" data-rarity="1/3000000" data-location="Kohana">
                                Lochness Monster (1/3M)
                            </option>
                        </optgroup>
                        <optgroup label="Coral Reefs">
                            <option value="Eerie Shark" data-rarity="1/250000" data-location="Coral Reefs">
                                Eerie Shark (1/250K)
                            </option>
                            <option value="Monster Shark" data-rarity="1/2500000" data-location="Coral Reefs">
                                Monster Shark (1/2.50M)
                            </option>
                        </optgroup>
                        <optgroup label="Esoteric Depths">
                            <option value="Thin Armor Shark" data-rarity="1/300000" data-location="Esoteric Depths">
                                Thin Armor Shark (1/300K)
                            </option>
                            <option value="Scare" data-rarity="1/3000000" data-location="Esoteric Depths">
                                Scare (1/3M)
                            </option>
                        </optgroup>
                        <optgroup label="Tropical Grove">
                            <option value="Great Whale" data-rarity="1/950000" data-location="Tropical Grove">
                                Great Whale (1/950K)
                            </option>
                        </optgroup>
                        <optgroup label="Crater Island">
                            <option value="Frostborn Shark" data-rarity="1/500000" data-location="Crater Island">
                                Frostborn Shark (1/500K)
                            </option>
                        </optgroup>
                        <optgroup label="Treasure Room - Lost Isle">
                            <option value="Queen Crab" data-rarity="1/800000" data-location="Treasure Room - Lost Isle">
                                Queen Crab (1/800K)
                            </option>
                            <option value="King Crab" data-rarity="1/1200000" data-location="Treasure Room - Lost Isle">
                                King Crab (1/1.20M)
                            </option>
                        </optgroup>
                        <optgroup label="Sisyphus Statue - Lost Isle">
                            <option value="Cryoshade Glider" data-rarity="1/450000"
                                data-location="Sisyphus Statue - Lost Isle">
                                Cryoshade Glider (1/450K)
                            </option>
                            <option value="Panther Eel" data-rarity="1/750000"
                                data-location="Sisyphus Statue - Lost Isle">
                                Panther Eel (1/750K)
                            </option>
                            <option value="Giant Squid" data-rarity="1/800000"
                                data-location="Sisyphus Statue - Lost Isle">
                                Giant Squid (1/800K)
                            </option>
                            <option value="Robot Kraken" data-rarity="1/3500000"
                                data-location="Sisyphus Statue - Lost Isle">
                                Robot Kraken (1/3.50M)
                            </option>
                        </optgroup>
                        <optgroup label="Admin Event Ocean">
                            <option value="Ghost Worm Fish" data-rarity="1/1000000" data-location="Admin Event Ocean">
                                Ghost Worm Fish (1/1M)
                            </option>
                            <option value="Megalodon" data-rarity="1/4000000" data-location="Admin Event Ocean">
                                Megalodon (1/4M)
                            </option>
                        </optgroup>
                        <optgroup label="Admin Event Mount Hallow">
                            <option value="Bloodmoon Whale" data-rarity="1/5000000"
                                data-location="Admin Event Mount Hallow">
                                Bloodmoon Whale (1/5M)
                            </option>
                        </optgroup>
                        <optgroup label="Ancient Jungle">
                            <option value="King Jelly" data-rarity="1/1500000" data-location="Ancient Jungle">
                                King Jelly (1/1.5M)
                            </option>
                            <option value="Mosasaur Shark" data-rarity="1/800000" data-location="Ancient Jungle">
                                Mosasaur Shark (1/800K)
                            </option>
                        </optgroup>
                        <optgroup label="Ancient Jungle - Sacred Temple">
                            <option value="Elshark Gran Maja" data-rarity="1/4000000"
                                data-location="Ancient Jungle - Sacred Temple">
                                Elshark Gran Maja (1/4M)
                            </option>
                            <option value="Bone Whale" data-rarity="1/2000000"
                                data-location="Ancient Jungle - Sacred Temple">
                                Bone Whale (1/2M)
                            </option>
                        </optgroup>
                        <optgroup label="Ancient Jungle - Underground Cellar">
                            <option value="Ancient Whale" data-rarity="1/2750000"
                                data-location="Ancient Jungle - Underground Cellar">
                                Ancient Whale (1/2.75M)
                            </option>
                        </optgroup>
                        <optgroup label="Ancient Jungle - Ancient Ruin">
                            <option value="Gladiator Shark" data-rarity="1/1000000"
                                data-location="Ancient Jungle - Ancient Ruin">
                                Gladiator Shark (1/1M)
                            </option>
                        </optgroup>
                    </select>

                    <input type="text" id="manual-odds-input" class="manual-odds-input"
                        placeholder="Enter odds in format: 1/300000">
                </div>

                <div class="input-group">
                    <label for="luck-input">Luck Multiplier (%):</label>
                    <input type="number" id="luck-input" class="luck-input" min="0" step="1" value="0"
                        placeholder="e.g., 1000">
                    <p class="input-help">
                        Your total luck percentage bonus (1000 (%) = 10x multiplier)
                    </p>
                </div>

                <div class="input-group">
                    <label for="casts-per-hour">Casting Rate (per hour):</label>
                    <input type="number" id="casts-per-hour" class="casts-input" min="1" step="1" value="600"
                        placeholder="600">
                    <p class="input-help">
                        How many casts you typically complete in one hour
                    </p>
                </div>

                <button id="calculate-btn" class="calculate-button glowing">
                    Calculate Catch Odds
                </button>
            </div>

            <div id="fish-info" class="fish-info">
                <div class="fish-info-header">
                    <div class="fish-info-content">
                        <div class="fish-name-gradient" id="fish-name">Selected Fish</div>
                        <div class="fish-stats-container">
                            <div class="fish-stat">
                                <span class="stat-label">Fishing Spot</span>
                                <span class="stat-value" id="fish-location">Location</span>
                            </div>
                            <div class="fish-stat">
                                <span class="stat-label">Base Catch Rate</span>
                                <span class="stat-value" id="fish-rarity">Rarity</span>
                            </div>
                            <div class="fish-stat">
                                <span class="stat-label">Difficulty</span>
                                <span class="stat-value" id="fish-difficulty">Calculating...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="success-message">
                <p>âœ¨ Analysis complete! Check out the results below.</p>
            </div>

            <div id="results" class="calculator-results">
                <div class="results-header">
                    <h3>Catch Probability Analysis</h3>
                    <p class="results-note">
                        The algorithm calculates your chances using multiple statistical models.
                        The "Optimistic" model assumes linear luck scaling, "Realistic" uses community-tested
                        diminishing returns,
                        and "Conservative" applies a safety margin for worst-case scenarios.
                    </p>
                </div>

                <div class="results-tabs">
                    <button class="tab-button active" data-model="optimistic">
                        Optimistic
                    </button>
                    <button class="tab-button" data-model="realistic">
                        Realistic
                    </button>
                    <button class="tab-button" data-model="conservative">
                        Conservative
                    </button>
                </div>

                <div id="model-optimistic" class="model-results active">
                    <div class="result-card">
                        <h4>Enhanced Odds</h4>
                        <p class="result-value" id="optimistic-odds">1/19.87K</p>
                        <p class="result-detail">
                            Luck Efficiency: <span id="optimistic-multiplier">151.00x</span>
                        </p>
                    </div>

                    <div class="result-card">
                        <h4>50% Confidence</h4>
                        <p class="result-value" id="optimistic-time-50">23.0 hours</p>
                        <p class="result-detail" id="optimistic-casts-50">13,771 casts</p>
                    </div>

                    <div class="result-card">
                        <h4>90% Confidence</h4>
                        <p class="result-value" id="optimistic-time-90">3 days, 4.2 hours</p>
                        <p class="result-detail" id="optimistic-casts-90">45,746 casts</p>
                    </div>

                    <div class="result-card">
                        <h4>99% Confidence</h4>
                        <p class="result-value" id="optimistic-time-99">6 days, 8.5 hours</p>
                        <p class="result-detail" id="optimistic-casts-99">91,491 casts</p>
                    </div>
                </div>

                <div id="model-realistic" class="model-results">
                    <div class="result-card">
                        <h4>Enhanced Odds</h4>
                        <p class="result-value" id="realistic-odds">1/26.09K</p>
                        <p class="result-detail">
                            Luck Efficiency: <span id="realistic-multiplier">115.00x</span>
                        </p>
                    </div>

                    <div class="result-card">
                        <h4>50% Confidence</h4>
                        <p class="result-value" id="realistic-time-50">1 day, 6.1 hours</p>
                        <p class="result-detail" id="realistic-casts-50">18,082 casts</p>
                    </div>

                    <div class="result-card">
                        <h4>90% Confidence</h4>
                        <p class="result-value" id="realistic-time-90">4 days, 4.1 hours</p>
                        <p class="result-detail" id="realistic-casts-90">60,066 casts</p>
                    </div>

                    <div class="result-card">
                        <h4>99% Confidence</h4>
                        <p class="result-value" id="realistic-time-99">8 days, 8.2 hours</p>
                        <p class="result-detail" id="realistic-casts-99">120,133 casts</p>
                    </div>
                </div>

                <div id="model-conservative" class="model-results">
                    <div class="result-card">
                        <h4>Enhanced Odds</h4>
                        <p class="result-value" id="conservative-odds">1/56.07K</p>
                        <p class="result-detail">
                            Luck Efficiency: <span id="conservative-multiplier">53.50x</span>
                        </p>
                    </div>

                    <div class="result-card">
                        <h4>50% Confidence</h4>
                        <p class="result-value" id="conservative-time-50">2 days, 16.8 hours</p>
                        <p class="result-detail" id="conservative-casts-50">38,868 casts</p>
                    </div>

                    <div class="result-card">
                        <h4>90% Confidence</h4>
                        <p class="result-value" id="conservative-time-90">8 days, 23.2 hours</p>
                        <p class="result-detail" id="conservative-casts-90">129,116 casts</p>
                    </div>

                    <div class="result-card">
                        <h4>99% Confidence</h4>
                        <p class="result-value" id="conservative-time-99">17 days, 22.4 hours</p>
                        <p class="result-detail" id="conservative-casts-99">258,232 casts</p>
                    </div>
                </div>

                <div class="results-footer">
                    <p class="disclaimer">
                        These projections are based on statistical models and community research. Actual results may
                        vary due to RNG factors.
                    </p>
                </div>
            </div>

            <div id="loading" class="loading-spinner">
                <span>ðŸ§  Crunching probabilities...</span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Elements
            const fishSelect = document.getElementById('fish-select');
            const manualOddsInput = document.getElementById('manual-odds-input');
            const luckInput = document.getElementById('luck-input');
            const castsInput = document.getElementById('casts-per-hour');
            const calculateBtn = document.getElementById('calculate-btn');
            const fishInfo = document.getElementById('fish-info');
            const fishName = document.getElementById('fish-name');
            const fishLocation = document.getElementById('fish-location');
            const fishRarity = document.getElementById('fish-rarity');
            const results = document.getElementById('results');
            const loading = document.getElementById('loading');
            const successMessage = document.querySelector('.success-message');
            const tabButtons = document.querySelectorAll('.tab-button');
            const modelResults = document.querySelectorAll('.model-results');
            const modeOptions = document.querySelectorAll('.mode-option');

            // Current mode state
            let currentMode = 'select';

            // Mode toggle functionality
            modeOptions.forEach(option => {
                option.addEventListener('click', function () {
                    const mode = this.getAttribute('data-mode');

                    // Update active mode
                    modeOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');

                    // Update UI based on mode
                    if (mode === 'select') {
                        fishSelect.classList.remove('hidden');
                        fishSelect.classList.add('active');
                        manualOddsInput.classList.remove('active');
                        currentMode = 'select';

                        // If a fish is selected, update fish info
                        if (fishSelect.value) {
                            updateFishInfoFromSelect();
                        } else {
                            fishInfo.classList.remove('active');
                        }
                    } else {
                        fishSelect.classList.remove('active');
                        fishSelect.classList.add('hidden');
                        manualOddsInput.classList.add('active');
                        currentMode = 'manual';

                        // If manual input has value, update fish info
                        if (manualOddsInput.value) {
                            updateFishInfoFromManual();
                        } else {
                            fishInfo.classList.remove('active');
                        }
                    }
                });
            });

            // Update fish info when a fish is selected
            fishSelect.addEventListener('change', function () {
                if (currentMode === 'select') {
                    updateFishInfoFromSelect();
                }
            });

            // Update fish info when manual odds are entered
            manualOddsInput.addEventListener('input', function () {
                if (currentMode === 'manual') {
                    updateFishInfoFromManual();
                }
            });

            // Update fish info when luck input changes (for difficulty calculation)
            luckInput.addEventListener('blur', function () {
                if (fishInfo.classList.contains('active')) {
                    if (currentMode === 'select' && fishSelect.value) {
                        updateFishInfoFromSelect();
                    } else if (currentMode === 'manual' && manualOddsInput.value) {
                        updateFishInfoFromManual();
                    }
                }
            });

            // Function to update fish info from dropdown selection
            function updateFishInfoFromSelect() {
                const selectedOption = fishSelect.options[fishSelect.selectedIndex];

                if (selectedOption.value) {
                    const fishName = selectedOption.value;
                    const location = selectedOption.getAttribute('data-location');
                    const rarity = selectedOption.getAttribute('data-rarity').replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');

                    // Update fish info
                    document.getElementById('fish-name').textContent = fishName;
                    document.getElementById('fish-location').textContent = location;
                    document.getElementById('fish-rarity').textContent = rarity;

                    // Calculate and display difficulty based on rarity
                    updateDifficulty(selectedOption.getAttribute('data-rarity'));

                    fishInfo.classList.add('active');
                } else {
                    fishInfo.classList.remove('active');
                }
            }

            // Function to update fish info from manual input
            function updateFishInfoFromManual() {
                const manualValue = manualOddsInput.value.trim();

                if (manualValue && isValidOddsFormat(manualValue)) {
                    // Update fish info for manual mode
                    document.getElementById('fish-name').textContent = "Unknown Fish";
                    document.getElementById('fish-location').textContent = "Unknown";
                    document.getElementById('fish-rarity').textContent = manualValue.replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,');

                    // Calculate and display difficulty based on manual odds
                    updateDifficulty(manualValue);

                    fishInfo.classList.add('active');
                } else {
                    fishInfo.classList.remove('active');
                }
            }

            // Function to validate odds format
            function isValidOddsFormat(odds) {
                const pattern = /^1\/\d+$/;
                return pattern.test(odds);
            }

            // Function to update difficulty display
            function updateDifficulty(rarityString) {
                const baseOdds = parseFloat(rarityString.split('/')[1]);
                let difficulty;
                if (baseOdds >= 3000000) difficulty = "Legendary";
                else if (baseOdds >= 1000000) difficulty = "Epic";
                else if (baseOdds >= 500000) difficulty = "Rare";
                else difficulty = "Uncommon";

                document.getElementById('fish-difficulty').textContent = difficulty;
                document.getElementById('fish-difficulty').style.color =
                    difficulty === "Legendary" ? "#ff4444" :
                        difficulty === "Epic" ? "#aa44ff" :
                            difficulty === "Rare" ? "#44aaff" : "#44ffaa";
            }

            // Tab switching
            tabButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const model = this.getAttribute('data-model');

                    // Update active tab
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');

                    // Show corresponding model results
                    modelResults.forEach(modelDiv => {
                        modelDiv.classList.remove('active');
                        if (modelDiv.id === `model-${model}`) {
                            modelDiv.classList.add('active');
                        }
                    });
                });
            });

            // Calculate button click
            calculateBtn.addEventListener('click', function () {
                // Validate inputs based on current mode
                if (currentMode === 'select' && !fishSelect.value) {
                    alert('Please select a target fish first!');
                    return;
                }

                if (currentMode === 'manual' && (!manualOddsInput.value || !isValidOddsFormat(manualOddsInput.value))) {
                    alert('Please enter valid odds in the format: 1/300000');
                    return;
                }

                if (!luckInput.value || luckInput.value < 0) {
                    alert('Please enter a valid luck percentage!');
                    return;
                }

                if (!castsInput.value || castsInput.value < 1) {
                    alert('Please enter a valid casting rate!');
                    return;
                }

                // Show loading
                loading.classList.add('active');
                successMessage.classList.remove('active');

                // Simulate calculation delay
                setTimeout(() => {
                    // Get inputs based on current mode
                    let baseRarity;
                    if (currentMode === 'select') {
                        const selectedOption = fishSelect.options[fishSelect.selectedIndex];
                        baseRarity = selectedOption.getAttribute('data-rarity');
                    } else {
                        baseRarity = manualOddsInput.value;
                    }

                    const luck = parseFloat(luckInput.value);
                    const castsPerHour = parseInt(castsInput.value);

                    // Perform calculations for all models
                    calculateResults('optimistic', baseRarity, luck, castsPerHour);
                    calculateResults('realistic', baseRarity, luck, castsPerHour);
                    calculateResults('conservative', baseRarity, luck, castsPerHour);

                    // Hide loading and show results
                    loading.classList.remove('active');
                    results.classList.add('active');
                    successMessage.classList.add('active');

                    // Enhanced smooth scroll to results
                    setTimeout(() => {
                        const resultsElement = document.getElementById('results');
                        const headerOffset = 80;
                        const elementPosition = resultsElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }, 50);
                }, 300);
            });

            // Calculation function
            function calculateResults(model, baseRarity, luck, castsPerHour) {
                // Extract base odds from string like "1/750000"
                const baseOdds = parseFloat(baseRarity.split('/')[1]);

                // Calculate luck multiplier based on model
                let luckMultiplier;
                switch (model) {
                    case 'optimistic':
                        luckMultiplier = 1 + (luck / 100);
                        break;
                    case 'realistic':
                        luckMultiplier = 1 + (luck / 100) * 0.75;
                        break;
                    case 'conservative':
                        luckMultiplier = 1 + (luck / 100) * 0.5;
                        break;
                }

                // Calculate adjusted odds
                const adjustedOdds = baseOdds / luckMultiplier;

                // Format adjusted odds for display
                let displayOdds;
                if (adjustedOdds >= 1000000) {
                    displayOdds = `1/${(adjustedOdds / 1000000).toFixed(2)}M`;
                } else if (adjustedOdds >= 1000) {
                    displayOdds = `1/${(adjustedOdds / 1000).toFixed(2)}K`;
                } else {
                    displayOdds = `1/${Math.round(adjustedOdds)}`;
                }

                // Calculate probabilities for 50%, 90%, 99%
                const probabilities = [0.5, 0.9, 0.99];
                const casts = probabilities.map(p => Math.ceil(Math.log(1 - p) / Math.log(1 - (1 / adjustedOdds))));
                const hours = casts.map(c => c / castsPerHour);

                // Format time for display
                const formattedTimes = hours.map(h => {
                    const days = Math.floor(h / 24);
                    const remainingHours = (h % 24).toFixed(1);

                    if (days > 0) {
                        return `${days} day${days > 1 ? 's' : ''}, ${remainingHours} hours`;
                    } else {
                        return `${remainingHours} hours`;
                    }
                });

                // Format casts for display
                const formattedCasts = casts.map(c => {
                    if (c >= 1000000) {
                        return `${(c / 1000000).toFixed(2)}M casts`;
                    } else if (c >= 1000) {
                        return `${(c / 1000).toFixed(2)}K casts`;
                    } else {
                        return `${c.toLocaleString()} casts`;
                    }
                });

                // Update UI
                document.getElementById(`${model}-odds`).textContent = displayOdds;
                document.getElementById(`${model}-multiplier`).textContent = `${luckMultiplier.toFixed(2)}x`;
                document.getElementById(`${model}-time-50`).textContent = formattedTimes[0];
                document.getElementById(`${model}-casts-50`).textContent = formattedCasts[0];
                document.getElementById(`${model}-time-90`).textContent = formattedTimes[1];
                document.getElementById(`${model}-casts-90`).textContent = formattedCasts[1];
                document.getElementById(`${model}-time-99`).textContent = formattedTimes[2];
                document.getElementById(`${model}-casts-99`).textContent = formattedCasts[2];
            }
        });
    </script>
</body>

</html>
